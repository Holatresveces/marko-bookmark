(this["webpackJsonpmarko-bookmark"]=this["webpackJsonpmarko-bookmark"]||[]).push([[0],{28:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var l=a(2),r=a.n(l),s=a(21),o=a.n(s),c=(a(28),a(4)),n=a(23),d=a(10),i=a.p+"static/media/profile-icon.145c8ece.jpg",b=a(1),m=function(){return Object(b.jsxs)("div",{className:"flex items-center ml-16",children:[Object(b.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3",children:Object(b.jsx)("img",{src:i,alt:""})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"text-xs font-normal text-gray-400",children:"Welcome"}),Object(b.jsx)("div",{className:"font-medium",children:"Paquita Cabeza"})]}),Object(b.jsx)("div",{className:"w-10 h-10 flex items-center justify-center",children:Object(b.jsx)("span",{className:"cursor-pointer",children:Object(b.jsx)(d.a,{})})})]})},u=function(){return Object(b.jsx)("header",{className:"absolute w-full bg-white border-b border-gray-200",children:Object(b.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center p-5",children:[Object(b.jsx)("h1",{className:"font-bold text-xl",children:"Marko"}),Object(b.jsxs)("div",{className:"flex items-center font-Inter",children:[Object(b.jsx)("div",{className:"font-semibold",children:"My bookmarks"}),Object(b.jsx)(m,{})]})]})})},j=function(e){var t=e.onClick,a=e.text;return Object(b.jsx)("button",{className:"bg-indigo-600 text-white py-4 px-6 rounded-md font-Inter font-medium",onClick:t,children:a})},g=function(e){var t=e.toggleAddBookmarkDialog;return Object(b.jsx)("main",{className:"bg-gray-200 w-full h-screen flex justify-center items-center",children:Object(b.jsxs)("div",{className:"max-w-md flex flex-col items-center",children:[Object(b.jsx)("h1",{className:"font-semibold text-3xl mb-2",children:"Welcome to Marko"}),Object(b.jsx)("div",{className:"w-12 h-1 bg-indigo-600 mb-9"}),Object(b.jsx)("p",{className:"text-gray-500 text-center text-xl mb-9",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(b.jsx)(j,{text:"Add new bookmark",onClick:t})]})})},x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAIAAAAHjs1qAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MjY4QTU4ODI2NkRFMjExQTA5QkU3NzkzRUE5Qjc5QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MTg5MDlGMEZFRUUxMUU0QTc2QkNEMjY5OTFDODIxMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MTg5MDlFRkZFRUUxMUU0QTc2QkNEMjY5OTFDODIxMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQkY0NTk2QjEwQjRFMjExQkVBN0JFQTA3MEQ2OTg2QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MjY4QTU4ODI2NkRFMjExQTA5QkU3NzkzRUE5Qjc5QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpgPJHAAAAjLSURBVHja7N3rUlrLFkBhY0RRoxK1NJX3f7fEC4qK3NR4ZjnrdK0Nxu1WQHB94wdFiAL2Gj179nV9eXx8XAHqwaoiAN0BugN0B+gO0B2gO0B3gO4A3QG6A3QH3QG6A3QH6A7QHaA7QHeA7gDdAboDdAfdAboDdAfoDtAdoDtAd4DuAN0BugN0B90BugN0B+gO0B2gO0B3gO4A3QG6A3QH3QG6A3QH6A7QHaA7QHeA7gDdAboDdAfoDroDdAfoDtAdoDtAd4DuAN0BugN0B+gOugN0B+gO0B2gO0B3gO4A3QG6A3QH6A66A3QH6A7QHaA7sACs1edPfXx8vL6+7vf78cSFL3z58uXbE7X4Y2ty7f/8+XN6etrtdvn9rPF7e3uHh4ei+yeh+8TqquTtH5ZHFIjHbPe2t7c3Nzfl7p+B4XBYUhqil6JI19P70Wgkun+eS5vxLB9JXwJ8rQpktVbXNS/q4xN1jvST5ZDlQ/dPHtX8+bVibaWuZEirp/G1bdbqq3v2z1qt1u7ubjypz199cXHR6/XqWc/rq3te+0ajsb6+Xq9Lvlbfi173cegaNut1HpUy7QK6A3QH6A4sSTddEfytP1cdqhsOh/1+fzQa5ZqqRqOxubnZbDZrO1FF909F8ThE73Q6vV4vRK+uqbq6ulpfX2+1Wtvb24qL7p+B29vb8/Pz+/v7L/9npbL8ZjAYnJyc7O3tHRwcKCu5+9K7fnp6mq5PRv3yPGL/5eWl4qL7EhOWt9vtSGDGdoRMztGE9GF8ZPYKje7LSrfbvbu7e81C8PiZh4eHMN4aerovJSFuZDLVHSH/anzk8VE9FB3dlzKTydC+8ooVJmW4puwPBN2XiVwP/J/G1EN30Z3uy5rMvCERN+VE9+UslNXVN+xWnvU68me/j/4x3d/Lf9rzkRUjakiz2Zyp5c+2HpoUur+XPEfuNSMz8TO5uGBra2tG0b18gfig6A0bAnoPFhE8Tx6p1e/3Xz54LEN7iN5qtWYXaMPym5ubEP3+/j5bkmh8okLGl3QuGt2nwNevXw8PD3///j22iGAyusf/7u/vb2xszOK0lojonU7n6urq4eGhGubjW93e3kb6FB8dDYvrJZl5L2Hw8fFxxNEcl6x2CnPoJpcYRK3Y3d2dVhpdHRQajUa/fv26uLjIDyrL1PJ5PEbUjwrZbrfLr+i5iu5vJ8Lnz58/I752u92Ir+V8jrAtwn9kO5HDRK1Ymd5BXOVNer1eLlCbTFeqndd4Hl8vfixqXXwlPVe6vzerOTg4CK0jdc7tHeFfJOtRExqNxoxGSKLPcHZ29qzrz1aPrI3RFsW3dcnoPgXpt594IYOf1mdFpRpz/eVJgPzoqCHRGhwdHTFe7j5bpuj63d3dyclJGF99z5cz8jJgWvKflbdODNMd8yMSkvA1OqBviNA5QJnG54ZaeTzdF5dwNHKYHOl/24qdzKniHaJ9iJqjSOm+WFQHEMP199xOp1pDIsbnjIESpvvCJf1harvdLq6/LecuqUumMbltnPF0Xzg6nc719XXV1/dXoTS+9FxB94Xg6upqugcZlFHRHKuJrMaSMrovBBHUz8/PZ9QlyLGa4XAoq6H7xxPJeqTsK9Oeka1G95WnrSphvKyG7h9JpBlnZ2cZgKc7HzQ2BZtj8P1+X1ZD97lSLMwJ/8mFlrOgRPqS1dR5ibw1M/Ojurilun59bp+eYzXPNgJ0x/RJ11/eMjKjhiWXyOfhfplB1dB4ycz8iOzl8vJybPnX3EJ7WUlWlhvI3THLsl5dPTo6Ojg4+BDVyoeWYcr63E2W7tPvgL7m9bW1tf39/VyVXm7bPeeMYlrTt3Svbwf02Vz5b7+yvb19fHwc6pc7glisS/dlYjAY3N7eVjezvhzym83mjx8/Go1GSS2U4RwwMvNeHh4erp6IJ5ubm7nHr7qNdTLk55ONjY3IaspYOOPpvuj0er2Li4vhcFiG+SLMdzqdra2tnZ2dsP/lpDli/OHhYdl/pDzpvli90iJlxPLLy8vr6+vqizlhGf9180ToHtKH+pOb8cpvRVPw/fv3qDOvzPtB93n3SiNNz6CeJxyt/HOSsvxY/4n19fWQfizDqQq9t7eXx+KVdwPdF4K7u7sI6t1uN1d3jQ0jVgNzmc0ZjUbtdjuS+2/fvoX3k2cL57F7YXzeMqSe0/t0X7hMJgJw5OUpZXYux3LuSdfLi9EfjXoS7xBhfnd3N88eK0TgD+NzQQvX6f7BRISO7CVymJXKBtOVianKat0Ye4esHjmME43DzhNV6fPM4fgIh/rS/cOI+B2CRpf0neu6xg52jPeMSB/GR+KeOX28Hs/dn5XuHzYCE/JFBpIKTiWrrmY7WZEinIflkd7k/T8i3g8GAx1Wus91BKZMHuUc0Cy6j1l/4v3Pz88jvWm1WrO7BQjo/ldy8iijbBkyr66hnWIzkjl9bicN1+e/7YPuNUpaxl6pTh5NdhlnIWK1CpV7F4PuM0laqv/MyaPcfvEhi1i4Tvd56BUJdIh+c3NT1uLmgdH8o/snSWOK1tFNzKCe2UvJ0d9zYiPovnBxPR4jTf/zRBl+qZ7KK7rT/VPF+DwHvTpR+nJfFkuN+WrQHaA7QHeA7guGYRbUSPcaHpr1Gmp18sdqfS5qdW8Rxhq9mhRLXXQvCxsNpf9N+jrcXb4uuu/s7JQjuzCZ5jWbzbFTcT5nra6PAbk1aTAY8Hssrofo+/v7k0ck0H3pM3h35Jrk2SP+6P4Zuqqoc+E4wQc1ol6zqup2zYtFdIfoDtAdoDtAd4DuAN0BugN0B+gO0B2gO+gO0B2gO0B3gO4A3QG6A3QH6A7QHaA76A7QHaA7QHeA7gDdAboDdAfoDtAdoDvoDtAdoDtAd4DuAN0BugN0B+gO0B2gO+gO0B2gO0B3gO4A3QG6A3QH6A7QHaA7QHfQHaA7QHeA7gDdAboDdAfoDtAdoDtAd9AdoDtAd4DuAN0BugN0B+gO0B2gO0B30B2gO0B3YPn4nwADAIH6GwYUX3ZzAAAAAElFTkSuQmCC",h=a(11),f=function(e){var t=e.bookmark,a=e.deleteBookmark,l=t.image,r=t.description,s=t.title,o=t.url;return Object(b.jsx)("article",{className:"w-full rounded-lg bg-white",children:Object(b.jsxs)("div",{className:"p-4 font-Inter flex flex-col h-full",children:[Object(b.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",children:Object(b.jsx)("div",{className:"h-36 overflow-hidden rounded-lg mb-4",children:Object(b.jsx)("img",{src:l||x,className:"w-full h-full object-cover",alt:""})})}),Object(b.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",children:Object(b.jsx)("h1",{className:"text-base font-semibold h-20",children:s||"[No title]"})}),Object(b.jsx)("a",{className:"font-Inconsolata text-sm inline-block mb-2",href:o,target:"_blank",rel:"noreferrer",children:o}),Object(b.jsx)("p",{className:"h-24 text-sm",children:r||"[No description]"}),Object(b.jsxs)("div",{className:"flex justify-end mt-auto",children:[Object(b.jsx)("a",{className:"m-1",href:o,target:"_blank",rel:"noreferrer",children:Object(b.jsx)(h.a,{size:"1.5em"})}),Object(b.jsx)("button",{className:"m-1",onClick:function(){return a(t)},children:Object(b.jsx)(h.b,{size:"1.5em",color:"red"})})]})]})})},O=function(e){var t=e.bookmarks,a=e.deleteBookmark;return Object(b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 sm:gap-6 md:grid-cols-3 md:gap-6 lg:grid-cols-4 lg:gap-10",children:t.map((function(e){return Object(b.jsx)(f,{bookmark:e,deleteBookmark:a},e.url)}))})},p=function(e){var t=e.bookmarks,a=e.toggleAddBookmarkDialog,l=e.deleteBookmark;return Object(b.jsx)("main",{className:"bg-gray-200 pt-20 font-Inter h-screen",children:Object(b.jsx)("div",{className:"bg-gray-200",children:Object(b.jsxs)("div",{className:"max-w-7xl mx-auto p-5",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center mt-14 mb-9",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"font-semibold text-2xl mb-2",children:"My Bookmarks"}),Object(b.jsx)("div",{className:"w-12 h-1 bg-indigo-600"})]}),Object(b.jsx)(j,{onClick:a,text:"Add new bookmark"})]}),Object(b.jsx)(O,{bookmarks:t,deleteBookmark:l})]})})})},k=function(e){var t=e.toggleAddBookmarkDialog;return Object(b.jsx)("div",{className:"bg-indigo-600",children:Object(b.jsxs)("div",{className:"p-7 flex justify-between items-center text-white",children:[Object(b.jsx)("h2",{className:"font-medium",children:"Create a new bookmark"})," ",Object(b.jsx)("span",{className:"cursor-pointer",onClick:t,children:Object(b.jsx)(d.b,{size:"1.5em"})})]})})},v=function(e){var t=e.image,a=e.status,l=e.handleInputChange,r=e.title,s=e.description;return Object(b.jsxs)("div",{className:"mt-8",children:[Object(b.jsxs)("div",{className:"flex items-center mb-4",children:[Object(b.jsx)("div",{className:"flex-grow bg-gray-300 h-px"}),Object(b.jsx)("span",{className:"px-2 text-gray-400",children:"Preview"}),Object(b.jsx)("div",{className:"flex-grow bg-gray-300 h-px"})]}),Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsx)("div",{className:"font-medium mb-2",children:"Meta Image"}),Object(b.jsx)("div",{className:"w-full h-44 bg-gray-100 rounded-md overflow-hidden",children:"resolved"===a&&Object(b.jsx)("img",{className:"w-full h-full object-cover",src:t||x,alt:""})})]}),Object(b.jsxs)("div",{className:"mb-4",children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{className:"font-medium",htmlFor:"title",children:"Meta Title"})}),Object(b.jsx)("input",{className:"block w-full p-2 border-solid border-2 border-black rounded-md",id:"title",disabled:"loading"===a,name:"title",onChange:l,placeholder:"Ex. Welcome to my website",type:"text",value:r||""})]}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{className:"font-medium",htmlFor:"description",children:"Meta Description"})}),Object(b.jsx)("textarea",{className:"block w-full p-2 border-solid border-2 border-black rounded-md",disabled:"loading"===a,id:"description",name:"description",onChange:l,value:s||""})]})]})},A=function(e){var t=e.state,a=e.handleInputChange,l=e.fetchMetadata,r=e.handleSaveBookmark,s=t.data,o=t.status,c=s.description,n=s.title,d=s.image,i=s.url;return Object(b.jsx)("div",{className:"p-7",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("label",{className:"font-medium",htmlFor:"url",children:"Insert your URL"})}),Object(b.jsx)("input",{className:"block w-full p-2 border-solid border-2 border-black rounded-md mb-2",id:"name",disabled:"loading"===o,name:"url",onChange:a,placeholder:"https://company.com",type:"text",value:i||""}),Object(b.jsx)("input",{className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-md font-Inter font-medium cursor-pointer",disabled:"loading"===o,onClick:l,placeholder:"https://company.com",type:"button",value:"Load metadata"}),Object(b.jsx)(v,{image:d,status:o,handleInputChange:a,title:n,description:c}),Object(b.jsx)("input",{className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-md font-Inter font-medium cursor-pointer",disabled:"loading"===o,onClick:r,type:"button",value:"Save bookmark"})]})})},N=function(e){var t=e.addBookmark,a=e.bookmarks,l=e.toggleAddBookmarkDialog,r=e.state,s=e.showAddBookmarkDialog,o=e.fetchMetadata,c=e.updateInput,n=r.status,d=r.data;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{style:{pointerEvents:s?"auto":"none",opacity:s?"1":"0",transition:"opacity 0.4s"},className:"fixed inset-0 bg-gray-700 bg-opacity-50"}),Object(b.jsxs)("div",{style:{transition:"transform 0.4s",transform:s?"translate3d(0, 0, 0":"translate3d(100%, 0, 0)"},className:"fixed top-0 right-0 bg-white h-full w-full max-w-lg",children:[Object(b.jsx)("div",{style:{transition:"opacity 0.2s"},className:"absolute top-0 left-0 w-full h-full bg-white ".concat("loading"===n?"opacity-50":"pointer-events-none opacity-0")}),Object(b.jsx)(k,{toggleAddBookmarkDialog:l}),Object(b.jsx)(A,{state:r,handleInputChange:function(e){var t=e.target,a=t.name,l=t.value;c({name:a,value:l})},fetchMetadata:o,handleSaveBookmark:function(){"resolved"===n?a.find((function(e){return e.url===d.url}))?alert("Bookmark already exists"):(t(d),l()):alert("Please load some metadata first")}})]})]})},w=a(22),B=a.n(w),y=a(5),D={data:{description:null,image:null,title:null,url:""},status:"idle",error:null},H=function(e,t){var a=e.data,l=e.status;switch(t.type){case"update-input-value":var r=t.payload,s=r.name,o=r.value;if("url"===s)return{data:{description:"",image:null,title:"",url:o},status:"idle",error:null};var c={data:Object(y.a)({},a),status:l,error:null};return c.data[s]=o,c;case"fetch-metadata":return{data:Object(y.a)({},a),status:"loading",error:null};case"set-metadata":var n=t.payload;return{data:Object(y.a)({},n),status:"resolved",error:null};case"set-error":var d=Object(y.a)(Object(y.a)({},D),{},{status:"rejected",error:"Oops! Something went wrong..."});return d.data.image=null,d;default:return e}},G={data:{description:null,image:null,title:null,url:""},status:"idle",error:null},I=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=Object(l.useReducer)(H,e),a=Object(c.a)(t,2),r=a[0],s=a[1],o=r.status,n=r.data.url,d=function(){"loading"!==o&&(n.trim()?(s({type:"fetch-metadata"}),B.a.get("".concat("/api/metadata","?url=").concat(n)).then((function(e){var t=e.data;console.log("metadata fetched successfully"),console.log(t),s({type:"set-metadata",payload:t})})).catch((function(e){console.log("metadata fetching failed"),console.log(e),alert("Whoops! Something went wrong..."),s({type:"set-error",payload:{error:e}})}))):alert("Insert a valid URL!"))};return{state:r,fetchMetadata:d,updateInput:function(e){s({type:"update-input-value",payload:e})}}}({data:{description:null,image:null,title:null,url:""},status:"idle",error:null}),t=e.state,a=e.updateInput,r=e.fetchMetadata,s=function(){var e=Object(l.useState)((function(){var e=window.localStorage.getItem("bookmarks");return e?JSON.parse(e):[]})),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(l.useEffect)((function(){window.localStorage.setItem("bookmarks",JSON.stringify(a))}),[a]),{bookmarks:a,setBookmarks:r,addBookmark:function(e){r([].concat(Object(n.a)(a),[e]))},deleteBookmark:function(e){var t=e.url,l=a.filter((function(e){return e.url!==t}));r(l)}}}(),o=s.bookmarks,d=s.addBookmark,i=s.deleteBookmark,m=Object(l.useState)(!1),j=Object(c.a)(m,2),x=j[0],h=j[1],f=function(){h(!x)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u,{}),0===o.length?Object(b.jsx)(g,{toggleAddBookmarkDialog:f}):Object(b.jsx)(p,{addBookmark:d,bookmarks:o,deleteBookmark:i,toggleAddBookmarkDialog:f}),Object(b.jsx)(N,{addBookmark:d,bookmarks:o,fetchMetadata:r,state:t,showAddBookmarkDialog:x,toggleAddBookmarkDialog:f,updateInput:a})]})};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.6ede1d49.chunk.js.map